{"version":3,"file":"single-pacote.min.js","sources":["single-pacote.js"],"sourcesContent":["let labels = [];\nlet categories = ['adults', 'children', 'babies'];\nlet ticketsCount = 0;\nlet validateForm = false;\n\n// localStorage.removeItem('ticketsCount');\n\ncategories.forEach(category => {\n    document.getElementById(`btn-plus-${category}-count`).addEventListener('click', () => {\n        let count = parseInt(document.getElementById(`input-${category}-count`).value);\n        count++;\n        ticketsCount++;\n        document.getElementById(`input-${category}-count`).value = count;\n        updateCountLabel(category);\n        updateTotalizers();\n    });\n\n    document.getElementById(`btn-minus-${category}-count`).addEventListener('click', () => {\n        let count = parseInt(document.getElementById(`input-${category}-count`).value);\n        if (count > 0) {\n            count--;\n            ticketsCount--;\n            document.getElementById(`input-${category}-count`).value = count;\n            updateCountLabel(category);\n            updateTotalizers();\n        }\n    });\n});\n\nconst select = document.getElementById('period-event');\n            \nselect.addEventListener('change', () => {\n    validateForm = select.value !== 'null';\n    document.getElementById('btn-reservation-now').disabled = ticketsCount !== 0 && validateForm ? false : true;\n});\n\nfunction updateCountLabel(control) {\n    let amount = parseInt(document.getElementById(`input-${control}-count`).value);\n\n    enumCategories.forEach(category => {\n        let exist = labels.some(item => item.replace(/^\\d+\\s*/, '') === category.value);\n\n        if (category.key === control) {\n            if (!exist) {\n                labels.push(`${amount} ${category.value}`);\n            } else {\n                labels = labels.filter(item => item.replace(/^\\d+\\s*/, '')!== category.value);\n                labels.push(`${amount} ${category.value}`);\n            }\n        }\n    });\n\n    labels = labels.filter(item => !item.includes('0'));\n\n    labels = labels.sort((a, b) => {\n        // Remover números iniciais e espaços\n        const textoA = a.replace(/^\\d+\\s*/, '');\n        const textoB = b.replace(/^\\d+\\s*/, '');\n        return textoA.localeCompare(textoB); // Ordenação alfabética\n    });\n\n    if (labels.length === 0) document.getElementById('selected-amount-label').textContent = 'Selecione';\n    else document.getElementById('selected-amount-label').textContent = labels.join(', ');\n}\n\nfunction updateTotalizers() {\n    let subtotal = 0;\n    let payment = 0;\n\n    enumCategories.forEach(category => {\n        let count = parseInt(document.getElementById(`input-${category.key}-count`).value);\n        subtotal += count * category.price;\n        payment = subtotal - (subtotal * 0.05);\n    });\n\n    document.getElementById('subtotal-label').innerHTML = `<strong>Subtotal: </strong> R$ ${subtotal.toFixed(2)}`;\n    document.getElementById('payment-label').innerHTML = `<span class=\"text-success\">Pagando à vista: R$ ${payment.toFixed(2)}</span>`;\n\n    updateTicketsAmount();\n}\n\nfunction updateTicketsAmount() {\n    document.getElementById('tickets-count').textContent = ticketsCount > 0 ? ticketsCount : 0;\n    document.getElementById('btn-reservation-now').disabled = ticketsCount !== 0 && validateForm ? false : true;\n\n    participantesForm(ticketsCount);\n    pricesComponent();\n}\n\nfunction participantesForm(amount) {\n    const original = document.getElementById('accordion-item-1');\n    const container = document.getElementById('accordion'); // Certifique-se de que o container existe\n\n    if (original && container) {\n        // Limpa os elementos previamente adicionados, se necessário\n        container.innerHTML = '';\n\n        for (let i = 1; i <= amount; i++) {\n            const clone = original.cloneNode(true); // Clona apenas o original\n            clone.id = `accordion-item-${i}`; // Atualiza o ID do clone\n            clone.style.display = 'block';\n\n            // Modifica o conteúdo do clone para evitar duplicações\n            const button = clone.querySelector('.accordion-button'); // Seletor para o botão\n            const collapse = clone.querySelector('.collapse'); // Seletor para o collapse dentro do item\n            const form = clone.querySelector('form');\n\n            // Atualiza o botão\n            if (button) {\n                button.textContent = `Participante ${i}`;\n                // Atualiza os atributos do botão\n                button.setAttribute('aria-controls', `collapse-${i}`);\n                button.setAttribute('data-bs-target', `#collapse-${i}`);\n            }\n\n            // Atualiza o collapse\n            if (collapse) {\n                collapse.id = `collapse-${i}`; // Atualiza o id do collapse para garantir que seja único\n            }\n\n            // Se você precisar atualizar atributos, como `data-*` ou `href`, faça aqui\n            const link = clone.querySelector('a'); // Exemplo de link dentro do clone\n            if (link) {\n                link.setAttribute('href', `#item-${i}`);\n                link.setAttribute('data-id', `item-${i}`);\n            }\n\n            // Atualiza o id do formulário\n            if (form) {\n                form.id = `form-participante-${i}`; // Atualiza o id do formulário\n            }\n\n            // Adiciona o clone ao container\n            container.appendChild(clone);\n        }\n    } else {\n        console.error(\"Elemento original ou container não encontrado.\");\n    }\n}\n\nfunction pricesComponent() {\n    const component = document.querySelector('.event__totalizers');\n    const container = document.getElementById('prices');\n    const clone = component.cloneNode(true);\n    \n    if (component && container) {\n        // Limpa os elementos previamente adicionados, se necessário\n        container.innerHTML = '';\n    }\n    \n    clone.classList.add('event__totalizers--participants');\n\n    document.getElementById('prices').appendChild(clone);\n    document.getElementById('order-resume-price').appendChild(clone);\n}\n\n// Função para pegar os dados de todos os formulários\nfunction pegarDadosFormularios() {\n    const container = document.getElementById('accordion');\n    const formulários = container.querySelectorAll('form');\n    const dadosArray = [];\n\n    formulários.forEach((form) => {\n        const dadosFormulario = {};\n\n        // Pega todos os campos de input dentro do formulário\n        const campos = form.querySelectorAll('input, select, textarea');\n\n        campos.forEach((campo) => {\n            if (campo.name) {\n                dadosFormulario[campo.name] = campo.value; // Adiciona o valor do campo ao objeto\n            }\n        });\n\n        dadosArray.push(dadosFormulario); // Adiciona o objeto de dados do formulário ao array\n    });\n\n    console.log(dadosArray); // Exibe os dados no console (pode ser manipulado conforme necessário)\n    return dadosArray;\n}"],"names":["let","labels","categories","ticketsCount","validateForm","select","forEach","category","document","getElementById","addEventListener","count","parseInt","value","updateCountLabel","updateTotalizers","control","amount","enumCategories","exist","some","item","replace","key","filter","push","includes","sort","a","b","textoA","textoB","localeCompare","length","textContent","join","subtotal","payment","price","innerHTML","toFixed","updateTicketsAmount","disabled","participantesForm","pricesComponent","original","container","i","clone","cloneNode","button","id","style","display","querySelector","collapse","form","link","setAttribute","appendChild","console","error","component","classList","add","pegarDadosFormularios","formulários","querySelectorAll","dadosArray","dadosFormulario","campo","name","log"],"mappings":"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"}