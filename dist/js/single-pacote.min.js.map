{"version":3,"file":"single-pacote.min.js","sources":["single-pacote.js"],"sourcesContent":["let labels = [];\r\nlet categories = ['adults', 'children', 'babies'];\r\nlet ticketsCount = 0;\r\nlet validateForm = false;\r\n\r\n// localStorage.removeItem('ticketsCount');\r\n\r\ncategories.forEach(category => {\r\n    document.getElementById(`btn-plus-${category}-count`).addEventListener('click', () => {\r\n        let count = parseInt(document.getElementById(`input-${category}-count`).value);\r\n        count++;\r\n        ticketsCount++;\r\n        document.getElementById(`input-${category}-count`).value = count;\r\n        updateCountLabel(category);\r\n        updateTotalizers();\r\n    });\r\n\r\n    document.getElementById(`btn-minus-${category}-count`).addEventListener('click', () => {\r\n        let count = parseInt(document.getElementById(`input-${category}-count`).value);\r\n        if (count > 0) {\r\n            count--;\r\n            ticketsCount--;\r\n            document.getElementById(`input-${category}-count`).value = count;\r\n            updateCountLabel(category);\r\n            updateTotalizers();\r\n        }\r\n    });\r\n});\r\n\r\nconst select = document.getElementById('period-event');\r\n            \r\nselect.addEventListener('change', () => {\r\n    validateForm = select.value !== 'null';\r\n    document.getElementById('btn-reservation-now').disabled = ticketsCount !== 0 && validateForm ? false : true;\r\n});\r\n\r\nfunction updateCountLabel(control) {\r\n    let amount = parseInt(document.getElementById(`input-${control}-count`).value);\r\n\r\n    enumCategories.forEach(category => {\r\n        let exist = labels.some(item => item.replace(/^\\d+\\s*/, '') === category.value);\r\n\r\n        if (category.key === control) {\r\n            if (!exist) {\r\n                labels.push(`${amount} ${category.value}`);\r\n            } else {\r\n                labels = labels.filter(item => item.replace(/^\\d+\\s*/, '')!== category.value);\r\n                labels.push(`${amount} ${category.value}`);\r\n            }\r\n        }\r\n    });\r\n\r\n    labels = labels.filter(item => !item.includes('0'));\r\n\r\n    labels = labels.sort((a, b) => {\r\n        // Remover números iniciais e espaços\r\n        const textoA = a.replace(/^\\d+\\s*/, '');\r\n        const textoB = b.replace(/^\\d+\\s*/, '');\r\n        return textoA.localeCompare(textoB); // Ordenação alfabética\r\n    });\r\n\r\n    if (labels.length === 0) document.getElementById('selected-amount-label').textContent = 'Selecione';\r\n    else document.getElementById('selected-amount-label').textContent = labels.join(', ');\r\n}\r\n\r\nfunction updateTotalizers() {\r\n    let subtotal = 0;\r\n    let payment = 0;\r\n\r\n    enumCategories.forEach(category => {\r\n        let count = parseInt(document.getElementById(`input-${category.key}-count`).value);\r\n        subtotal += count * category.price;\r\n        payment = subtotal - (subtotal * 0.05);\r\n    });\r\n\r\n    document.getElementById('subtotal-label').innerHTML = `<strong>Subtotal: </strong> R$ ${subtotal.toFixed(2)}`;\r\n    document.getElementById('payment-label').innerHTML = `<span class=\"text-success\">Pagando à vista: R$ ${payment.toFixed(2)}</span>`;\r\n\r\n    updateTicketsAmount();\r\n}\r\n\r\nfunction updateTicketsAmount() {\r\n    document.getElementById('tickets-count').textContent = ticketsCount > 0 ? ticketsCount : 0;\r\n    document.getElementById('btn-reservation-now').disabled = ticketsCount !== 0 && validateForm ? false : true;\r\n\r\n    participantesForm(ticketsCount);\r\n    pricesComponent();\r\n}\r\n\r\nfunction participantesForm(amount) {\r\n    const original = document.getElementById('accordion-item-1');\r\n    const container = document.getElementById('accordion'); // Certifique-se de que o container existe\r\n\r\n    if (original && container) {\r\n        // Limpa os elementos previamente adicionados, se necessário\r\n        container.innerHTML = '';\r\n\r\n        for (let i = 1; i <= amount; i++) {\r\n            const clone = original.cloneNode(true); // Clona apenas o original\r\n            clone.id = `accordion-item-${i}`; // Atualiza o ID do clone\r\n            clone.style.display = 'block';\r\n\r\n            // Modifica o conteúdo do clone para evitar duplicações\r\n            const button = clone.querySelector('.accordion-button'); // Seletor para o botão\r\n            const collapse = clone.querySelector('.collapse'); // Seletor para o collapse dentro do item\r\n            const form = clone.querySelector('form');\r\n\r\n            // Atualiza o botão\r\n            if (button) {\r\n                button.textContent = `Participante ${i}`;\r\n                // Atualiza os atributos do botão\r\n                button.setAttribute('aria-controls', `collapse-${i}`);\r\n                button.setAttribute('data-bs-target', `#collapse-${i}`);\r\n            }\r\n\r\n            // Atualiza o collapse\r\n            if (collapse) {\r\n                collapse.id = `collapse-${i}`; // Atualiza o id do collapse para garantir que seja único\r\n            }\r\n\r\n            // Se você precisar atualizar atributos, como `data-*` ou `href`, faça aqui\r\n            const link = clone.querySelector('a'); // Exemplo de link dentro do clone\r\n            if (link) {\r\n                link.setAttribute('href', `#item-${i}`);\r\n                link.setAttribute('data-id', `item-${i}`);\r\n            }\r\n\r\n            // Atualiza o id do formulário\r\n            if (form) {\r\n                form.id = `form-participante-${i}`; // Atualiza o id do formulário\r\n            }\r\n\r\n            // Adiciona o clone ao container\r\n            container.appendChild(clone);\r\n        }\r\n    } else {\r\n        console.error(\"Elemento original ou container não encontrado.\");\r\n    }\r\n}\r\n\r\nfunction pricesComponent() {\r\n    const component = document.querySelector('.event__totalizers');\r\n    const container = document.getElementById('prices');\r\n    const clone = component.cloneNode(true);\r\n    \r\n    if (component && container) {\r\n        // Limpa os elementos previamente adicionados, se necessário\r\n        container.innerHTML = '';\r\n    }\r\n    \r\n    clone.classList.add('event__totalizers--participants');\r\n\r\n    document.getElementById('prices').appendChild(clone);\r\n    document.getElementById('order-resume-price').appendChild(clone);\r\n}\r\n\r\n// Função para pegar os dados de todos os formulários\r\nfunction pegarDadosFormularios() {\r\n    const container = document.getElementById('accordion');\r\n    const formulários = container.querySelectorAll('form');\r\n    const dadosArray = [];\r\n\r\n    formulários.forEach((form) => {\r\n        const dadosFormulario = {};\r\n\r\n        // Pega todos os campos de input dentro do formulário\r\n        const campos = form.querySelectorAll('input, select, textarea');\r\n\r\n        campos.forEach((campo) => {\r\n            if (campo.name) {\r\n                dadosFormulario[campo.name] = campo.value; // Adiciona o valor do campo ao objeto\r\n            }\r\n        });\r\n\r\n        dadosArray.push(dadosFormulario); // Adiciona o objeto de dados do formulário ao array\r\n    });\r\n\r\n    console.log(dadosArray); // Exibe os dados no console (pode ser manipulado conforme necessário)\r\n    return dadosArray;\r\n}"],"names":["let","labels","categories","ticketsCount","validateForm","select","forEach","category","document","getElementById","addEventListener","count","parseInt","value","updateCountLabel","updateTotalizers","control","amount","enumCategories","exist","some","item","replace","key","filter","push","includes","sort","a","b","textoA","textoB","localeCompare","length","textContent","join","subtotal","payment","price","innerHTML","toFixed","updateTicketsAmount","disabled","participantesForm","pricesComponent","original","container","i","clone","cloneNode","button","id","style","display","querySelector","collapse","form","link","setAttribute","appendChild","console","error","component","classList","add","pegarDadosFormularios","formulários","querySelectorAll","dadosArray","dadosFormulario","campo","name","log"],"mappings":"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"}